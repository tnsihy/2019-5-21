<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>jsonp</title>
    <!-- 
        jsonp原理：
            利用script标签的src属性实现跨域
            通过将前端方法(callback)作为参数传递给服务器端，服务器注入参数再返回
            由于使用script标签的src属性，故只能使用get方法
     -->
</head>
<body>
    <script>
        var script = document.createElement('script');
        script.type = 'text/javascript';
    
        // 传参一个回调函数名给后端，方便后端返回时执行这个在前端定义的回调函数
        script.src = 'http://localhost:3000/jsonp?callback=handleCallback&name=chenyinjun';
        document.head.appendChild(script);
    
        // 回调执行函数
        function handleCallback(res) {
            console.log(JSON.stringify(res));
        }
     </script>
</body>
</html>